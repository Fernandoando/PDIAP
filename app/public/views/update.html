<!-- <div ng-if="loading" layout="row" layout-sm="column" layout-align="space-around">
  <md-progress-circular md-mode="indeterminate" md-diameter="40"></md-progress-circular>
</div> -->
<div ng-cloak layout-margin data-ng-controller="registroCtrl">
  <md-content style="background:#fdfdfd;">
    <ui-alert data-ng-if="alterado" message="Os dados do projeto foram alterados!"></ui-alert>
    <md-tabs md-dynamic-height md-border-bottom>
      <md-tab label="Projeto">
        <md-content class="md-padding" style="background:#fdfdfd;padding-top:25px;">
          <md-content flex layout="column" layout-align="center center" style="width:100%!important;background:#fdfdfd;">
            <form name="projetoForm1" novalidate style="width:85%;max-width:850px;padding:8px;">
              <div layout="row">
                <div class="bloco-right" flex>
                  <md-input-container class="md-block" data-ng-init="editing1=false" flex-gt-sm>
                    <label>Nome do Projeto</label>
                    <input type="text" name="nomeProjeto" data-ng-model="projeto1.nomeProjeto" data-ng-click="editing1=true" data-ng-class="{'input-disabled': !editing1}" data-ng-focus="editing1=true" data-ng-blur="editing1=false" required/>
                    <div class="md-errors-spacer">
                      <div data-ng-if="projetoForm1.nomeProjeto.$dirty">
                        <div class="message-error" data-ng-if="projetoForm1.nomeProjeto.$error.required">Preencha esse campo.</div>
                      </div>
                    </div>
                  </md-input-container>
                  <div layout="row">
                    <md-input-container class="md-block" data-ng-init="editing2=false" flex="80">
                      <label>Categoria...</label>
                      <md-select name="categoria" data-ng-model="projeto1.categoria" data-ng-click="editing2=true" data-ng-class="{'input-disabled': !editing2}" data-ng-focus="editing2=true" data-ng-blur="editing2=false" style="width:100%!important;" required>
                        <md-optgroup label="Categorias">
                          <md-option data-ng-value="x.categoria" data-ng-repeat="x in listaCategorias" data-ng-click="selectEixos(x.categoria)" data-ng-init="selectEixos(projeto1.categoria)">{{x.categoria}}</md-option>
                        </md-optgroup>
                      </md-select>
                      <div class="md-errors-spacer"></div>
                      <!-- <div class="md-errors-spacer">
                      <div data-ng-if="projetoForm1.categoria.$touched">
                      <div class="message-error" data-ng-if="projetoForm1.categoria.$error.required">Selecione uma opção.</div>
                    </div>
                  </div> -->
                </md-input-container>
                <div flex layout="column" layout-align="center center">
                  <md-button md-no-ink class="saiba-mais">Saiba mais</md-button>
                </div>
              </div>
              <div layout="row">
                <md-input-container class="md-block" data-ng-init="editing3=false" flex="80">
                  <label>Eixo Temático...</label>
                  <md-select name="eixo" data-ng-model="projeto1.eixo" data-ng-click="editing3=true" data-ng-class="{'input-disabled': !editing3}" data-ng-focus="editing3=true" data-ng-blur="editing3=false" style="width:100%!important;" required>
                    <md-optgroup label="Eixos Temáticos" data-ng-if="projeto1.categoria !== undefined">
                      <md-option data-ng-value="y" data-ng-repeat="y in eixos">{{y}}</md-option>
                    </md-optgroup>
                    <md-option value="" disabled data-ng-if="projeto1.categoria === undefined">Selecione uma Categoria</md-option>
                  </md-select>
                  <div class="md-errors-spacer"></div>
                  <!-- <div class="md-errors-spacer">
                  <div data-ng-if="projetoForm1.eixo.$touched">
                  <div class="message-error" data-ng-if="projetoForm1.eixo.$error.required && projeto.categoria !== undefined">Selecione uma opção.</div>
                </div>
              </div> -->
            </md-input-container>
            <div flex layout="column" layout-align="center center">
              <md-button md-no-ink class="saiba-mais">Saiba mais</md-button>
            </div>
          </div>
          <div layout-gt-sm="row">
            <md-input-container class="md-block" data-ng-init="editing4=false" flex="100">
              <label>Resumo do Projeto</label>
              <textarea style="height:200px!important;" name="resumo" data-ng-model="projeto1.resumo" data-ng-click="editing4=true" data-ng-class="{'input-disabled': !editing4}" data-ng-focus="editing4=true" data-ng-blur="editing4=false" md-maxlength="100" rows="1" md-select-on-focus></textarea>
              <div class="md-errors-spacer">
                <div data-ng-if="projetoForm1.resumo.$dirty">
                  <div class="message-error" data-ng-if="projetoForm1.resumo.$error.required">Preencha esse campo.</div>
                  <div class="message-error" data-ng-if="projetoForm1.resumo.$invalid">Resumo excedeu o número de caracteres |</div>
                </div>
              </div>
            </md-input-container>
          </div>
        </div>
      </div>
      <div class="finalizar" layout="row" layout-align="center center" style="margin:40px 0;">
        <md-button class="md-raised md-primary teal lighten-1" data-ng-disabled="!projetoForm1.$valid" data-ng-click="update(projeto1)">
          <md-icon md-svg-icon="check" class="icon-btn-default"></md-icon>
          Salvar
        </md-button>
      </div>
    </form>
  </md-content>
</md-content>
</md-tab>
<md-tab label="Instituição">
  <md-content class="md-padding" style="background:#fdfdfd;padding-top:25px;">
    <md-content flex layout="column" layout-align="center center" style="width:100%!important;background:#fdfdfd;">
      <form name="projetoForm2" novalidate style="width:85%;max-width:850px;padding:8px;">
        <div layout="row">
          <div class="bloco-right" flex>
            <div layout-gt-sm="row">
              <md-icon md-svg-src="border-color" class="icon-update icon-autocomplete" data-ng-init="editing5=false" data-ng-click="editing5=true" data-ng-class="{'gray-lighten1-text': editing5}"></md-icon>
              <md-autocomplete flex="100"
              data-ng-disabled="!editing5"
              data-ng-blur="editing5=false"
              data-ng-required="true"
              md-no-cache="true"
              md-selected-item="selectedItem"
              md-search-text="projeto2.nomeEscola"
              md-items="item in escolas"
              md-item-text="item"
              md-min-length="1"
              placeholder="Nome da instituição"
              name="nomeEscola">
              <md-item-template>
                <span md-highlight-text="projeto2.nomeEscola" md-highlight-flags="^i">{{item}}</span>
              </md-item-template>
        </md-autocomplete>
        <br>
        <div class="md-errors-spacer">
        <div data-ng-if="projetoForm2.searchText.$dirty">
        <div class="message-error" data-ng-if="projetoForm2.searchText.$error.required">Selecione uma opção.</div>
      </div>
    </div>
      </div>
      <div layout-gt-sm="row">
        <md-input-container class="md-block" flex-gt-sm="20">
          <label>Estado</label>
          <md-icon md-svg-src="border-color" class="icon-update" data-ng-init="editing6=false" data-ng-click="editing6=true" data-ng-class="{'gray-lighten1-text': editing6}"></md-icon>
          <md-select name="estado" data-ng-disabled="!editing6" data-ng-model="projeto2.estado" required data-ng-blur="editing6=false">
            <md-option data-ng-value="z.nome" data-ng-repeat="z in listaEstados" data-ng-click="selectCidades(z.nome)" data-ng-init="selectCidades(projeto2.estado)">{{z.sigla}}</md-option>
          </md-select>
          <div class="md-errors-spacer"></div>
          <!-- <div class="md-errors-spacer">
          <div data-ng-if="projetoForm2.estado.$touched">
          <div class="message-error" data-ng-if="projetoForm2.estado.$error.required">Selecione uma opção.</div>
        </div>
      </div> -->
    </md-input-container>
    <div flex="5" hide-xs hide-sm></div>
    <md-input-container class="md-block" flex-gt-sm>
      <label>Cidade</label>
      <md-icon md-svg-src="border-color" class="icon-update" data-ng-init="editing7=false" data-ng-click="editing7=true" data-ng-class="{'gray-lighten1-text': editing7}"></md-icon>
      <md-select name="cidade" data-ng-disabled="!editing7" data-ng-model="projeto2.cidade" required data-ng-blur="editing7=false">
        <md-option value="" disabled data-ng-if="projeto2.estado === undefined">Selecione um Estado</md-option>
        <md-option data-ng-value="c" data-ng-repeat="c in cidades">{{c}}</md-option>
      </md-select>
      <div class="md-errors-spacer"></div>
      <!-- <div class="md-errors-spacer">
      <div data-ng-if="projetoForm2.cidade.$touched">
      <div class="message-error" data-ng-if="projetoForm2.cidade.$error.required">Selecione uma opção.</div>
    </div>
  </div> -->
</md-input-container>
<div flex="5" hide-xs hide-sm></div>
<md-input-container class="md-block" flex-gt-sm="20">
  <label>CEP</label>
  <md-icon md-svg-src="border-color" class="icon-update" data-ng-init="editing8=false" data-ng-click="editing8=true" data-ng-class="{'gray-lighten1-text': editing8}"></md-icon>
  <input type="text" name="cep" data-ng-init="maskCEP()" data-ng-disabled="!editing8" data-ng-model="projeto2.cep" required minlength="10" maxlength="10" cep-mask data-ng-blur="editing8=false"/>
  <div class="md-errors-spacer">
    <div data-ng-if="projetoForm2.cep.$dirty">
      <div class="message-error" data-ng-if="projetoForm2.cep.$error.required">Preencha esse campo.</div>
      <div class="message-error" data-ng-if="projetoForm2.cep.$error.minlength && projetoForm2.cep.$touched">CEP inválido.</div>
    </div>
  </div>
  <!-- {{mascara(projeto.cep)}} -->
</md-input-container>
</div>
</div>
</div>
<div class="finalizar" layout="row" layout-align="center center" style="margin:40px 0;">
  <md-button class="md-raised md-primary teal lighten-1" data-ng-disabled="!projetoForm2.$valid" data-ng-click="update(projeto2)">
    <md-icon md-svg-icon="check" class="icon-btn-default"></md-icon>
    Salvar
  </md-button>
</div>
</form>
</md-content>
</md-content>
</md-tab>
<md-tab label="Integrantes">
  <md-content class="md-padding" style="background:#fdfdfd;padding-top:25px;">
    <md-content flex layout="column" layout-align="center center" style="width:100%!important;background:#fdfdfd;">
      <form name="projetoForm" novalidate style="width:85%;max-width:850px;padding:8px;">
        <div layout="row">
          <div class="bloco-right" flex>
            <div ng-repeat="item1 in dynamicFields11" ng-form="projetoForm">
              <h5 class="h5-2">
                <md-icon md-svg-icon="account-box-outline" ng-style="{width:'19px', height:'19px'}"></md-icon> Orientador {{$index+1}}:
                <md-button data-ng-if="!$first" class="md-fab md-mini md-warn" aria-label="Remover orientador" data-ng-click="removeOrientadorUpdate($index)">
                  <md-tooltip md-direction="right">Remover orientador</md-tooltip>
                  <md-icon md-svg-src="close" style="color:#fdfdfd!important;width:19px;height:19px;"></md-icon>
                </md-button>
              </h5>
              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm>
                  <label>Nome completo</label>
                  <input type="text" name="{{item1.nome}}" data-ng-model="projeto3[item1.nome]" required minlength="2" />
                  <div class="md-errors-spacer">
                    <div data-ng-show="projetoForm.{{item1.nome}}.$dirty">
                      <div class="message-error" data-ng-show="projetoForm.{{item1.nome}}.$error.required">Preencha esse campo.</div>
                    </div>
                  </div>
                </md-input-container>
                <div flex="5" hide-xs hide-sm></div>
                <md-input-container class="md-block" flex-gt-sm>
                  <label>E-mail</label>
                  <input type="email" name="{{item1.email}}" data-ng-model="projeto3[item1.email]" required data-ng-pattern="/^.+@.+\..+$/" />
                  <div class="md-errors-spacer">
                    <div data-ng-show="projetoForm.{{item1.email}}.$dirty">
                      <div class="message-error" data-ng-show="projetoForm.{{item1.email}}.$error.required">Preencha esse campo.</div>
                      <div class="message-error" data-ng-show="projetoForm.{{item1.email}}.$error.pattern && projetoForm.{{item1.email}}.$touched">Email inválido.</div>
                    </div>
                  </div>
                </md-input-container>
              </div>
              <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm>
                  <label>CPF</label>
                  <input type="text" name="{{item1.cpf}}" data-ng-model="projeto3[item1.cpf]" required minlength="14" maxlength="14" cpf-mask/>
                  <div class="md-errors-spacer">
                    <div data-ng-show="projetoForm.{{item1.cpf}}.$dirty">
                      <div class="message-error" data-ng-show="projetoForm.{{item1.cpf}}.$error.required">Preencha esse campo.</div>
                      <div class="message-error" data-ng-show="projetoForm.{{item1.cpf}}.$error.minlength && projetoForm.{{item1.cpf}}.$touched">CPF inválido.</div>
                    </div>
                  </div>
                </md-input-container>
                <div flex="5" hide-xs hide-sm></div>
                <md-input-container class="md-block" flex-gt-sm>
                  <label>Telefone</label>
                  <input type="text" name="{{item1.telefone}}" data-ng-model="projeto3[item1.telefone]" required minlength="14" maxlength="14" fone-mask/>
                  <div class="md-errors-spacer">
                    <div data-ng-show="projetoForm.{{item1.telefone}}.$dirty">
                      <div class="message-error" data-ng-show="projetoForm.{{item1.telefone}}.$error.required">Preencha esse campo.</div>
                      <div class="message-error" data-ng-show="projetoForm.{{item1.telefone}}.$error.minlength && projetoForm.{{item1.telefone}}.$touched">Telefone inválido.</div>
                    </div>
                  </div>
                </md-input-container>
                <div flex="5" hide-xs hide-sm></div>
                <md-input-container class="md-block" flex-gt-sm>
                  <label>Tamanho da camisa</label>
                  <md-select name="{{item1.camiseta}}" data-ng-model="projeto3[item1.camiseta]" required>
                    <md-option value="P">P - Pequena</md-option>
                    <md-option value="M">M - Média</md-option>
                    <md-option value="G">G - Grande</md-option>
                  </md-select>
                  <div class="md-errors-spacer"></div>
                  <!--                      <div class="md-errors-spacer">
                  <div data-ng-if="projetoForm.{{item1.camiseta}}.$touched">
                  <div class="message-error" data-ng-if="projetoForm.{{item1.camiseta}}.$error.required">Selecione uma opção.</div>
                </div>
              </div> -->
            </md-input-container>
          </div>
        </div>
        <div layout="column" layout-align="center center" data-ng-if="btnAdd11">
          <md-button class="md-fab md-mini" style="background:#66bb6a;" aria-label="Adicionar orientador" data-ng-click="addOrientadorUpdate()">
            <md-tooltip md-direction="left">Adicionar orientador</md-tooltip>
            <md-icon md-svg-src="plus" style="color:#fdfdfd!important;"></md-icon>
          </md-button>
        </div>
      </div>
    </div>
    <hr size="3">
    <div layout="row">
      <div class="bloco-right" flex>
        <div ng-repeat="item2 in dynamicFields22" ng-form="projetoForm">
          <h5 class="h5-2">
            <md-icon md-svg-icon="account-multiple" ng-style="{width:'19px', height:'19px'}"></md-icon> Aluno {{$index+1}}:
            <md-button data-ng-if="!$first" class="md-fab md-mini md-warn" aria-label="Remover aluno" data-ng-click="removeAlunoUpdate($index)">
              <md-tooltip md-direction="right">Remover aluno</md-tooltip>
              <md-icon md-svg-src="close" style="color:#fdfdfd!important;width:19px;height:19px;"></md-icon>
            </md-button>
          </h5>
          <div layout-gt-sm="row">
            <md-input-container class="md-block" flex-gt-sm>
              <label>Nome completo</label>
              <input type="text" name="{{item2.nome}}" data-ng-model="projeto3[item2.nome]" required minlength="2" />
              <div class="md-errors-spacer">
                <div data-ng-show="projetoForm.{{item2.nome}}.$dirty">
                  <div class="message-error" data-ng-show="projetoForm.{{item2.nome}}.$error.required">Preencha esse campo.</div>
                </div>
              </div>
            </md-input-container>
            <div flex="5" hide-xs hide-sm></div>
            <md-input-container class="md-block" flex-gt-sm>
              <label>E-mail</label>
              <input type="email" name="{{item2.email}}" data-ng-model="projeto3[item2.email]" required data-ng-pattern="/^.+@.+\..+$/" />
              <div class="md-errors-spacer">
                <div data-ng-show="projetoForm.{{item2.email}}.$dirty">
                  <div class="message-error" data-ng-show="projetoForm.{{item2.email}}.$error.required">Preencha esse campo.</div>
                  <div class="message-error" data-ng-show="projetoForm.{{item2.email}}.$error.pattern && projetoForm.{{item2.email}}.$touched">Email inválido.</div>
                </div>
              </div>
            </md-input-container>
          </div>
          <div layout-gt-sm="row">
            <md-input-container class="md-block" flex-gt-sm>
              <label>CPF</label>
              <input type="text" name="{{item2.cpf}}" data-ng-model="projeto3[item2.cpf]" required minlength="14" maxlength="14" cpf-mask/>
              <div class="md-errors-spacer">
                <div data-ng-show="projetoForm.{{item2.cpf}}.$dirty">
                  <div class="message-error" data-ng-show="projetoForm.{{item2.cpf}}.$error.required">Preencha esse campo.</div>
                  <div class="message-error" data-ng-show="projetoForm.{{item2.cpf}}.$error.minlength && projetoForm.{{item2.cpf}}.$touched">CPF inválido.</div>
                </div>
              </div>
            </md-input-container>
            <div flex="5" hide-xs hide-sm></div>
            <md-input-container class="md-block" flex-gt-sm>
              <label>Telefone</label>
              <input type="text" name="{{item2.telefone}}" data-ng-model="projeto3[item2.telefone]" required minlength="14" maxlength="14" fone-mask/>
              <div class="md-errors-spacer">
                <div data-ng-show="projetoForm.{{item2.telefone}}.$dirty">
                  <div class="message-error" data-ng-show="projetoForm.{{item2.telefone}}.$error.required">Preencha esse campo.</div>
                  <div class="message-error" data-ng-show="projetoForm.{{item2.telefone}}.$error.minlength && projetoForm.{{item2.telefone}}.$touched">Telefone inválido.</div>
                </div>
              </div>
            </md-input-container>
            <div flex="5" hide-xs hide-sm></div>
            <md-input-container class="md-block" flex-gt-sm>
              <label>Tamanho da camisa</label>
              <md-select name="{{item2.camiseta}}" data-ng-model="projeto3[item2.camiseta]" required>
                <md-option value="P">P - Pequena</md-option>
                <md-option value="M">M - Média</md-option>
                <md-option value="G">G - Grande</md-option>
              </md-select>
              <div class="md-errors-spacer"></div>
              <!-- <div class="md-errors-spacer">
              <div data-ng-if="projetoForm.{{item2.camiseta}}.$touched">
              <div class="message-error" data-ng-if="projetoForm.{{item2.camiseta}}.$error.required">Selecione uma opção.</div>
            </div>
          </div> -->
        </md-input-container>
      </div>
    </div>
    <div layout="column" layout-align="center center" data-ng-if="btnAdd22">
      <md-button class="md-fab md-mini" style="background:#66bb6a;" aria-label="Adicionar aluno" data-ng-click="addAlunoUpdate()">
        <md-tooltip md-direction="left">Adicionar aluno</md-tooltip>
        <md-icon md-svg-src="plus" style="color:#fdfdfd!important;"></md-icon>
      </md-button>
    </div>
  </div>
</div>
<div class="finalizar" layout="row" layout-align="center center" style="margin:40px 0;">
  <md-button class="md-raised md-primary teal lighten-1" data-ng-disabled="!projetoForm.$valid" data-ng-click="update(projeto3)">
    <md-icon md-svg-icon="check" ng-style="{width:'20px', height:'20px', color:'rgba(255,255,255,0.87)'}"></md-icon>
    Salvar
  </md-button>
</div>
</form>
</md-content>
</md-content>
</md-tab>
<md-tab label="Dados da conta">
  <md-content class="md-padding">
    <h1 class="md-display-2">Tab conta</h1>
    <p>Integer turpis erat, porttitor vitae mi faucibus, laoreet interdum tellus. Curabitur posuere molestie dictum. Morbi eget congue risus, quis rhoncus quam. Suspendisse vitae hendrerit erat, at posuere mi. Cras eu fermentum nunc. Sed id ante eu orci commodo volutpat non ac est. Praesent ligula diam, congue eu enim scelerisque, finibus commodo lectus.</p>
  </md-content>
</md-tab>
</md-tabs>
</md-content>
</div>
